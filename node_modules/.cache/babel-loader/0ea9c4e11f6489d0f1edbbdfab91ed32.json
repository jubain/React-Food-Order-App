{"ast":null,"code":"var _jsxFileName = \"/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst cartReducer = (state, action) => {\n  let updatedTotalAmount;\n  let existingCartItemIndex;\n  let existingCartItem;\n  let updatedItemsList;\n  let updatedExistingItem;\n\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      //concat gives brand new array without editing old array\n      updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount; // Finding index\n\n      existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id); // Getting element with above index\n\n      existingCartItem = state.items[existingCartItemIndex]; // If a element exist\n\n      if (existingCartItem) {\n        // update the element value in the item list\n        updatedExistingItem = { ...existingCartItem,\n          amount: existingCartItem.amount + action.item.amount\n        };\n        updatedItemsList = [...state.items]; // update the item list\n\n        updatedItemsList[existingCartItemIndex] = updatedExistingItem;\n      } else {\n        updatedItemsList = state.items.concat(action.item);\n      }\n\n      return {\n        items: updatedItemsList,\n        totalAmount: updatedTotalAmount\n      };\n\n    case \"REMOVE_ITEM\":\n      existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n      existingCartItem = state.items[existingCartItemIndex]; // removing existing price from total amount\n\n      updatedTotalAmount = state.totalAmount - existingCartItem.price;\n\n      if (existingCartItem.amount === 1) {\n        // Remove amount \n        updatedItemsList = state.items.filter(item => item.id !== action.id);\n      } else {\n        // Decrease amount by 1\n        updatedExistingItem = { ...existingCartItem,\n          amount: existingCartItem.amount - 1\n        };\n        updatedItemsList = [...state.items]; // Update list with new item amount\n\n        updatedItemsList[existingCartItemIndex] = updatedExistingItem;\n      }\n\n      return {\n        items: updatedItemsList,\n        totalAmount: updatedTotalAmount\n      };\n\n    default:\n      break;\n  }\n\n  return defaultCartState;\n};\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\n\nfunction CartProvider(props) {\n  _s();\n\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n  function addItem(item) {\n    dispatchCartAction({\n      type: \"ADD_ITEM\",\n      item: item\n    });\n  }\n\n  function removeItem(id) {\n    dispatchCartAction({\n      type: \"REMOVE_ITEM\",\n      id: id\n    });\n  }\n\n  const value = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItem,\n    removeItem: removeItem\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 12\n  }, this);\n}\n\n_s(CartProvider, \"PxEugEseoIJIbjFwtAJal5z5ClY=\");\n\n_c = CartProvider;\nexport default CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useReducer","CartContext","cartReducer","state","action","updatedTotalAmount","existingCartItemIndex","existingCartItem","updatedItemsList","updatedExistingItem","type","totalAmount","item","price","amount","items","findIndex","id","concat","filter","defaultCartState","CartProvider","props","cartState","dispatchCartAction","addItem","removeItem","value","children"],"sources":["/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\n\nexport const CartContext = createContext()\n\nconst cartReducer = (state, action) => {\n    let updatedTotalAmount\n    let existingCartItemIndex\n    let existingCartItem\n    let updatedItemsList\n    let updatedExistingItem\n    switch (action.type) {\n        case \"ADD_ITEM\":\n            //concat gives brand new array without editing old array\n            updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount\n            // Finding index\n            existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id)\n            // Getting element with above index\n            existingCartItem = state.items[existingCartItemIndex]\n            // If a element exist\n            if (existingCartItem) {\n                // update the element value in the item list\n                updatedExistingItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.item.amount\n                }\n                updatedItemsList = [...state.items]\n                // update the item list\n                updatedItemsList[existingCartItemIndex] = updatedExistingItem\n            } else {\n                updatedItemsList = state.items.concat(action.item)\n            }\n            return {\n                items: updatedItemsList,\n                totalAmount: updatedTotalAmount\n            }\n\n        case \"REMOVE_ITEM\":\n            existingCartItemIndex = state.items.findIndex(item => item.id === action.id)\n            existingCartItem = state.items[existingCartItemIndex]\n            // removing existing price from total amount\n            updatedTotalAmount = state.totalAmount - existingCartItem.price\n            if (existingCartItem.amount === 1) {\n                // Remove amount \n                updatedItemsList = state.items.filter(item => item.id !== action.id)\n            } else {\n                // Decrease amount by 1\n                updatedExistingItem = { ...existingCartItem, amount: existingCartItem.amount - 1 }\n                updatedItemsList = [...state.items]\n                // Update list with new item amount\n                updatedItemsList[existingCartItemIndex] = updatedExistingItem\n            }\n            return {\n                items: updatedItemsList,\n                totalAmount: updatedTotalAmount\n            }\n        default:\n            break;\n    }\n    return defaultCartState\n}\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0,\n}\n\nfunction CartProvider(props) {\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState)\n    function addItem(item) {\n        dispatchCartAction({ type: \"ADD_ITEM\", item: item })\n    }\n    function removeItem(id) {\n        dispatchCartAction({ type: \"REMOVE_ITEM\", id: id })\n    }\n\n    const value = {\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n        addItem: addItem,\n        removeItem: removeItem\n    }\n\n\n    return <CartContext.Provider value={value}>\n        {props.children}\n    </CartContext.Provider>\n}\n\nexport default CartProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}