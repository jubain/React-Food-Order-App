{"ast":null,"code":"var _jsxFileName = \"/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      //concat gives brand new array without editing old array\n      let updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount; // Finding index\n\n      let existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id); // Getting element with above index\n\n      let existingCartItem = state.items[existingCartItemIndex];\n      let updatedItemsList;\n      let updatedExistingItem; // If a element exist\n\n      if (existingCartItem) {\n        // update the element value in the item list\n        updatedExistingItem = { ...existingCartItem,\n          amount: existingCartItem.amount + action.item.amount\n        };\n        updatedItemsList = [...state.items]; // update the item list\n\n        updatedItemsList[existingCartItemIndex] = updatedExistingItem;\n      } else {\n        updatedItemsList = state.items.concat(action.item);\n      }\n\n      return {\n        items: updatedItemsList,\n        totalAmount: updatedTotalAmount\n      };\n\n    case \"REMOVE_ITEM\":\n      existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n      existingCartItem = state.items[existingCartItemIndex]; // removing existing price from total amount\n\n      updatedTotalAmount = state.totalAmount - existingCartItem.price;\n\n      if (existingCartItem.amount === 1) {\n        // Remove amount \n        updatedItemsList = state.items.filter(item => item.id !== action.id);\n      } else {\n        // Decrease amount by 1\n        updatedExistingItem = { ...existingCartItem,\n          amount: existingCartItem.amount - 1\n        };\n        updatedItemsList = [...state.items]; // Update list with new item amount\n\n        updatedItemsList[existingCartItemIndex] = updatedExistingItem;\n      }\n\n      return {\n        item: updatedItemsList,\n        totalAmount: updatedTotalAmount\n      };\n\n    default:\n      break;\n  }\n\n  return defaultCartState;\n};\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\n\nfunction CartProvider(props) {\n  _s();\n\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n  function addItem(item) {\n    dispatchCartAction({\n      type: \"ADD_ITEM\",\n      item: item\n    });\n  }\n\n  function removeItem(id) {\n    dispatchCartAction({\n      type: \"REMOVE_ITEM\",\n      item: id\n    });\n  }\n\n  const value = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItem,\n    removeItem: removeItem\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 12\n  }, this);\n}\n\n_s(CartProvider, \"PxEugEseoIJIbjFwtAJal5z5ClY=\");\n\n_c = CartProvider;\nexport default CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useReducer","CartContext","cartReducer","state","action","type","updatedTotalAmount","totalAmount","item","price","amount","existingCartItemIndex","items","findIndex","id","existingCartItem","updatedItemsList","updatedExistingItem","concat","filter","defaultCartState","CartProvider","props","cartState","dispatchCartAction","addItem","removeItem","value","children"],"sources":["/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\n\nexport const CartContext = createContext()\n\nconst cartReducer = (state, action) => {\n    switch (action.type) {\n        case \"ADD_ITEM\":\n            //concat gives brand new array without editing old array\n            let updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount\n            // Finding index\n            let existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id)\n            // Getting element with above index\n            let existingCartItem = state.items[existingCartItemIndex]\n\n            let updatedItemsList\n            let updatedExistingItem\n            // If a element exist\n            if (existingCartItem) {\n                // update the element value in the item list\n                updatedExistingItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.item.amount\n                }\n                updatedItemsList = [...state.items]\n                // update the item list\n                updatedItemsList[existingCartItemIndex] = updatedExistingItem\n            } else {\n                updatedItemsList = state.items.concat(action.item)\n            }\n\n\n            return {\n                items: updatedItemsList,\n                totalAmount: updatedTotalAmount\n            }\n\n        case \"REMOVE_ITEM\":\n\n            existingCartItemIndex = state.items.findIndex(item => item.id === action.id)\n            existingCartItem = state.items[existingCartItemIndex]\n            // removing existing price from total amount\n            updatedTotalAmount = state.totalAmount - existingCartItem.price\n            if (existingCartItem.amount === 1) {\n                // Remove amount \n                updatedItemsList = state.items.filter(item => item.id !== action.id)\n            } else {\n                // Decrease amount by 1\n                updatedExistingItem = { ...existingCartItem, amount: existingCartItem.amount - 1 }\n                updatedItemsList = [...state.items]\n                // Update list with new item amount\n                updatedItemsList[existingCartItemIndex] = updatedExistingItem\n            }\n            return {\n                item: updatedItemsList,\n                totalAmount: updatedTotalAmount\n            }\n        default:\n            break;\n    }\n    return defaultCartState\n}\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0,\n}\n\nfunction CartProvider(props) {\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState)\n    function addItem(item) {\n        dispatchCartAction({ type: \"ADD_ITEM\", item: item })\n    }\n    function removeItem(id) {\n        dispatchCartAction({ type: \"REMOVE_ITEM\", item: id })\n    }\n\n    const value = {\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n        addItem: addItem,\n        removeItem: removeItem\n    }\n\n\n    return <CartContext.Provider value={value}>\n        {props.children}\n    </CartContext.Provider>\n}\n\nexport default CartProvider;"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,aAAa,EAAjC;;AAEP,MAAMG,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACnC,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,UAAL;MACI;MACA,IAAIC,kBAAkB,GAAGH,KAAK,CAACI,WAAN,GAAoBH,MAAM,CAACI,IAAP,CAAYC,KAAZ,GAAoBL,MAAM,CAACI,IAAP,CAAYE,MAA7E,CAFJ,CAGI;;MACA,IAAIC,qBAAqB,GAAGR,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBL,IAAI,IAAIA,IAAI,CAACM,EAAL,KAAYV,MAAM,CAACI,IAAP,CAAYM,EAAtD,CAA5B,CAJJ,CAKI;;MACA,IAAIC,gBAAgB,GAAGZ,KAAK,CAACS,KAAN,CAAYD,qBAAZ,CAAvB;MAEA,IAAIK,gBAAJ;MACA,IAAIC,mBAAJ,CATJ,CAUI;;MACA,IAAIF,gBAAJ,EAAsB;QAClB;QACAE,mBAAmB,GAAG,EAClB,GAAGF,gBADe;UACGL,MAAM,EAAEK,gBAAgB,CAACL,MAAjB,GAA0BN,MAAM,CAACI,IAAP,CAAYE;QADjD,CAAtB;QAGAM,gBAAgB,GAAG,CAAC,GAAGb,KAAK,CAACS,KAAV,CAAnB,CALkB,CAMlB;;QACAI,gBAAgB,CAACL,qBAAD,CAAhB,GAA0CM,mBAA1C;MACH,CARD,MAQO;QACHD,gBAAgB,GAAGb,KAAK,CAACS,KAAN,CAAYM,MAAZ,CAAmBd,MAAM,CAACI,IAA1B,CAAnB;MACH;;MAGD,OAAO;QACHI,KAAK,EAAEI,gBADJ;QAEHT,WAAW,EAAED;MAFV,CAAP;;IAKJ,KAAK,aAAL;MAEIK,qBAAqB,GAAGR,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBL,IAAI,IAAIA,IAAI,CAACM,EAAL,KAAYV,MAAM,CAACU,EAAjD,CAAxB;MACAC,gBAAgB,GAAGZ,KAAK,CAACS,KAAN,CAAYD,qBAAZ,CAAnB,CAHJ,CAII;;MACAL,kBAAkB,GAAGH,KAAK,CAACI,WAAN,GAAoBQ,gBAAgB,CAACN,KAA1D;;MACA,IAAIM,gBAAgB,CAACL,MAAjB,KAA4B,CAAhC,EAAmC;QAC/B;QACAM,gBAAgB,GAAGb,KAAK,CAACS,KAAN,CAAYO,MAAZ,CAAmBX,IAAI,IAAIA,IAAI,CAACM,EAAL,KAAYV,MAAM,CAACU,EAA9C,CAAnB;MACH,CAHD,MAGO;QACH;QACAG,mBAAmB,GAAG,EAAE,GAAGF,gBAAL;UAAuBL,MAAM,EAAEK,gBAAgB,CAACL,MAAjB,GAA0B;QAAzD,CAAtB;QACAM,gBAAgB,GAAG,CAAC,GAAGb,KAAK,CAACS,KAAV,CAAnB,CAHG,CAIH;;QACAI,gBAAgB,CAACL,qBAAD,CAAhB,GAA0CM,mBAA1C;MACH;;MACD,OAAO;QACHT,IAAI,EAAEQ,gBADH;QAEHT,WAAW,EAAED;MAFV,CAAP;;IAIJ;MACI;EAnDR;;EAqDA,OAAOc,gBAAP;AACH,CAvDD;;AAyDA,MAAMA,gBAAgB,GAAG;EACrBR,KAAK,EAAE,EADc;EAErBL,WAAW,EAAE;AAFQ,CAAzB;;AAKA,SAASc,YAAT,CAAsBC,KAAtB,EAA6B;EAAA;;EACzB,MAAM,CAACC,SAAD,EAAYC,kBAAZ,IAAkCxB,UAAU,CAACE,WAAD,EAAckB,gBAAd,CAAlD;;EACA,SAASK,OAAT,CAAiBjB,IAAjB,EAAuB;IACnBgB,kBAAkB,CAAC;MAAEnB,IAAI,EAAE,UAAR;MAAoBG,IAAI,EAAEA;IAA1B,CAAD,CAAlB;EACH;;EACD,SAASkB,UAAT,CAAoBZ,EAApB,EAAwB;IACpBU,kBAAkB,CAAC;MAAEnB,IAAI,EAAE,aAAR;MAAuBG,IAAI,EAAEM;IAA7B,CAAD,CAAlB;EACH;;EAED,MAAMa,KAAK,GAAG;IACVf,KAAK,EAAEW,SAAS,CAACX,KADP;IAEVL,WAAW,EAAEgB,SAAS,CAAChB,WAFb;IAGVkB,OAAO,EAAEA,OAHC;IAIVC,UAAU,EAAEA;EAJF,CAAd;EAQA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEC,KAA7B;IAAA,UACFL,KAAK,CAACM;EADJ;IAAA;IAAA;IAAA;EAAA,QAAP;AAGH;;GApBQP,Y;;KAAAA,Y;AAsBT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}