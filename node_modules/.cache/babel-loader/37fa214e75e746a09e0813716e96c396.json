{"ast":null,"code":"var _jsxFileName = \"/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      //concat gives brand new array without editing old array\n      // Finding index\n      const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id); // Getting element with above index\n\n      const existingCartItem = state.items[existingCartItemIndex];\n      let updatedItemsList; // If a element exist\n\n      if (existingCartItem) {\n        // update the element value in the item list\n        let updatedExistingItem = { ...existingCartItem,\n          amount: existingCartItem.amount + action.item.amount\n        };\n        updatedItemsList = [...state.items]; // update the item list\n\n        updatedItemsList[existingCartItemIndex] = updatedExistingItem;\n      } else {\n        updatedItemsList = state.items.concat(action.item);\n      }\n\n      const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n      return {\n        items: updatedItemsList,\n        totalAmount: updatedTotalAmount\n      };\n\n    default:\n      break;\n  }\n\n  return defaultCartState;\n};\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\n\nfunction CartProvider(props) {\n  _s();\n\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n  function addItem(item) {\n    dispatchCartAction({\n      type: \"ADD_ITEM\",\n      item: item\n    });\n  }\n\n  function removeItem(id) {\n    dispatchCartAction({\n      type: \"REMOVE_ITEM\",\n      item: id\n    });\n  }\n\n  const value = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItem,\n    removeItem: removeItem\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, this);\n}\n\n_s(CartProvider, \"PxEugEseoIJIbjFwtAJal5z5ClY=\");\n\n_c = CartProvider;\nexport default CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useReducer","CartContext","cartReducer","state","action","type","existingCartItemIndex","items","findIndex","item","id","existingCartItem","updatedItemsList","updatedExistingItem","amount","concat","updatedTotalAmount","totalAmount","price","defaultCartState","CartProvider","props","cartState","dispatchCartAction","addItem","removeItem","value","children"],"sources":["/Users/jubeenamatya/Desktop/Frontend/React Udemy /Food ordering web app/React-Food-Order-App/src/store/CartProvider.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\n\nexport const CartContext = createContext()\n\nconst cartReducer = (state, action) => {\n    switch (action.type) {\n        case \"ADD_ITEM\":\n            //concat gives brand new array without editing old array\n            // Finding index\n            const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id)\n            // Getting element with above index\n            const existingCartItem = state.items[existingCartItemIndex]\n\n            let updatedItemsList\n            // If a element exist\n            if (existingCartItem) {\n                // update the element value in the item list\n                let updatedExistingItem = {\n                    ...existingCartItem, amount: existingCartItem.amount + action.item.amount\n                } \n                updatedItemsList = [...state.items]\n                // update the item list\n                updatedItemsList[existingCartItemIndex] = updatedExistingItem\n            } else {\n                updatedItemsList = state.items.concat(action.item)\n            }\n\n            const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount\n            return {\n                items: updatedItemsList,\n                totalAmount: updatedTotalAmount\n            }\n        default:\n            break;\n    }\n    return defaultCartState\n}\n\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0,\n}\n\nfunction CartProvider(props) {\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState)\n    function addItem(item) {\n        dispatchCartAction({ type: \"ADD_ITEM\", item: item })\n    }\n    function removeItem(id) {\n        dispatchCartAction({ type: \"REMOVE_ITEM\", item: id })\n    }\n\n    const value = {\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n        addItem: addItem,\n        removeItem: removeItem\n    }\n\n\n    return <CartContext.Provider value={value}>\n        {props.children}\n    </CartContext.Provider>\n}\n\nexport default CartProvider;"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,aAAa,EAAjC;;AAEP,MAAMG,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACnC,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,UAAL;MACI;MACA;MACA,MAAMC,qBAAqB,GAAGH,KAAK,CAACI,KAAN,CAAYC,SAAZ,CAAsBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACK,IAAP,CAAYC,EAAtD,CAA9B,CAHJ,CAII;;MACA,MAAMC,gBAAgB,GAAGR,KAAK,CAACI,KAAN,CAAYD,qBAAZ,CAAzB;MAEA,IAAIM,gBAAJ,CAPJ,CAQI;;MACA,IAAID,gBAAJ,EAAsB;QAClB;QACA,IAAIE,mBAAmB,GAAG,EACtB,GAAGF,gBADmB;UACDG,MAAM,EAAEH,gBAAgB,CAACG,MAAjB,GAA0BV,MAAM,CAACK,IAAP,CAAYK;QAD7C,CAA1B;QAGAF,gBAAgB,GAAG,CAAC,GAAGT,KAAK,CAACI,KAAV,CAAnB,CALkB,CAMlB;;QACAK,gBAAgB,CAACN,qBAAD,CAAhB,GAA0CO,mBAA1C;MACH,CARD,MAQO;QACHD,gBAAgB,GAAGT,KAAK,CAACI,KAAN,CAAYQ,MAAZ,CAAmBX,MAAM,CAACK,IAA1B,CAAnB;MACH;;MAED,MAAMO,kBAAkB,GAAGb,KAAK,CAACc,WAAN,GAAoBb,MAAM,CAACK,IAAP,CAAYS,KAAZ,GAAoBd,MAAM,CAACK,IAAP,CAAYK,MAA/E;MACA,OAAO;QACHP,KAAK,EAAEK,gBADJ;QAEHK,WAAW,EAAED;MAFV,CAAP;;IAIJ;MACI;EA5BR;;EA8BA,OAAOG,gBAAP;AACH,CAhCD;;AAkCA,MAAMA,gBAAgB,GAAG;EACrBZ,KAAK,EAAE,EADc;EAErBU,WAAW,EAAE;AAFQ,CAAzB;;AAKA,SAASG,YAAT,CAAsBC,KAAtB,EAA6B;EAAA;;EACzB,MAAM,CAACC,SAAD,EAAYC,kBAAZ,IAAkCvB,UAAU,CAACE,WAAD,EAAciB,gBAAd,CAAlD;;EACA,SAASK,OAAT,CAAiBf,IAAjB,EAAuB;IACnBc,kBAAkB,CAAC;MAAElB,IAAI,EAAE,UAAR;MAAoBI,IAAI,EAAEA;IAA1B,CAAD,CAAlB;EACH;;EACD,SAASgB,UAAT,CAAoBf,EAApB,EAAwB;IACpBa,kBAAkB,CAAC;MAAElB,IAAI,EAAE,aAAR;MAAuBI,IAAI,EAAEC;IAA7B,CAAD,CAAlB;EACH;;EAED,MAAMgB,KAAK,GAAG;IACVnB,KAAK,EAAEe,SAAS,CAACf,KADP;IAEVU,WAAW,EAAEK,SAAS,CAACL,WAFb;IAGVO,OAAO,EAAEA,OAHC;IAIVC,UAAU,EAAEA;EAJF,CAAd;EAQA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEC,KAA7B;IAAA,UACFL,KAAK,CAACM;EADJ;IAAA;IAAA;IAAA;EAAA,QAAP;AAGH;;GApBQP,Y;;KAAAA,Y;AAsBT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}